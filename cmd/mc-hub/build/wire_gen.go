// Code generated by Wire. DO NOT EDIT.

//go:generate wire
//+build !wireinject

package build

import (
	"context"
	"o.o/backend/cmd/mc-hub/config"
	"o.o/backend/cmd/mc-hub/service"
	"o.o/backend/pkg/common/apifw/health"
	"o.o/backend/pkg/common/redis"
)

// Injectors from wire.go:

func Build(ctx context.Context, cfg config.Config) (Output, func(), error) {
	redisRedis := cfg.Redis
	store := redis.Connect(redisRedis)
	healthService := health.New(store)
	shipnowService, err := BuildMCShipnow(cfg)
	if err != nil {
		return Output{}, nil, err
	}
	mcShipnowService := service.MCShipnowService{
		Client: shipnowService,
	}
	mainServer := BuildMainServer(cfg, healthService, mcShipnowService)
	v := BuildServers(mainServer)
	output := Output{
		Servers: v,
		Health:  healthService,
	}
	return output, func() {
	}, nil
}
