// Code generated by gen-cmd-query. DO NOT EDIT.

package catalog

import (
	context "context"
	unsafe "unsafe"

	meta "etop.vn/api/meta"
)

type UpdateProductCommand struct {
	Result *Product `json:"-"`
}

type GetProductByIDQuery struct {
	ProductID int64

	Result *Product `json:"-"`
}

type GetProductsQuery struct {
	IDs             int64
	ProductSourceID int64
	Paging          meta.Paging
	Filters         meta.Filters

	Result *ProductsResonse `json:"-"`
}

type GetProductsWithVariantsQuery struct {
	IDs             int64
	ProductSourceID int64
	Paging          meta.Paging
	Filters         meta.Filters

	Result *ProductsWithVariantsResponse `json:"-"`
}

type GetShopProductByIDQuery struct {
	ProductID int64
	ShopID    int64

	Result *ShopProductExtended `json:"-"`
}

type GetShopProductsQuery struct {
	IDs    int64
	ShopID int64

	Result *ShopProductsResponse `json:"-"`
}

type GetShopProductsWithVariantsQuery struct {
	IDs    int64
	ShopID int64

	Result *ShopProductsWithVariantsResponse `json:"-"`
}

type GetShopVariantByIDQuery struct {
	Result *ShopVariantExtended `json:"-"`
}

type GetShopVariantsQuery struct {
	IDs    int64
	ShopID int64

	Result *ShopVariantsResponse `json:"-"`
}

type GetVariantByIDQuery struct {
	VariantID int64

	Result *VariantWithProduct `json:"-"`
}

type GetVariantsQuery struct {
	IDs             int64
	ProductSourceID int64
	Paging          meta.Paging
	Filters         meta.Filters

	Result *VariantsResponse `json:"-"`
}

type GetVariantsWithProductQuery struct {
	IDs             int64
	ProductSourceID int64
	Paging          meta.Paging
	Filters         meta.Filters

	Result *VariantsWithProductResponse `json:"-"`
}

// implement conversion

func (q *UpdateProductCommand) GetArgs() *UpdateProductArgs {
	return (*UpdateProductArgs)(unsafe.Pointer(q))
}
func (q *GetProductByIDQuery) GetArgs() *GetProductByIDQueryArgs {
	return (*GetProductByIDQueryArgs)(unsafe.Pointer(q))
}
func (q *GetProductsQuery) GetArgs() *GetProductsQueryArgs {
	return (*GetProductsQueryArgs)(unsafe.Pointer(q))
}
func (q *GetProductsWithVariantsQuery) GetArgs() *GetProductsQueryArgs {
	return (*GetProductsQueryArgs)(unsafe.Pointer(q))
}
func (q *GetShopProductByIDQuery) GetArgs() *GetShopProductByIDQueryArgs {
	return (*GetShopProductByIDQueryArgs)(unsafe.Pointer(q))
}
func (q *GetShopProductsQuery) GetArgs() *GetShopProductsQueryArgs {
	return (*GetShopProductsQueryArgs)(unsafe.Pointer(q))
}
func (q *GetShopProductsWithVariantsQuery) GetArgs() *GetShopProductsQueryArgs {
	return (*GetShopProductsQueryArgs)(unsafe.Pointer(q))
}
func (q *GetShopVariantByIDQuery) GetArgs() *GetShopVariantsByIDQueryArgs {
	return (*GetShopVariantsByIDQueryArgs)(unsafe.Pointer(q))
}
func (q *GetShopVariantsQuery) GetArgs() *GetShopVariantsQueryArgs {
	return (*GetShopVariantsQueryArgs)(unsafe.Pointer(q))
}
func (q *GetVariantByIDQuery) GetArgs() *GetVariantByIDQueryArgs {
	return (*GetVariantByIDQueryArgs)(unsafe.Pointer(q))
}
func (q *GetVariantsQuery) GetArgs() *GetVariantsQueryArgs {
	return (*GetVariantsQueryArgs)(unsafe.Pointer(q))
}
func (q *GetVariantsWithProductQuery) GetArgs() *GetVariantsQueryArgs {
	return (*GetVariantsQueryArgs)(unsafe.Pointer(q))
}

// implement dispatching

type AggregateHandler struct {
	inner Aggregate
}

func NewAggregateHandler(service Aggregate) AggregateHandler { return AggregateHandler{service} }

func (h AggregateHandler) RegisterHandlers(b interface {
	AddHandler(handler interface{})
}) {
	b.AddHandler(h.HandleUpdateProduct)
}

func (h AggregateHandler) HandleUpdateProduct(ctx context.Context, cmd *UpdateProductCommand) error {
	result, err := h.inner.UpdateProduct(ctx, cmd.GetArgs())
	cmd.Result = result
	return err
}

type QueryServiceHandler struct {
	inner QueryService
}

func NewQueryServiceHandler(service QueryService) QueryServiceHandler {
	return QueryServiceHandler{service}
}

func (h QueryServiceHandler) RegisterHandlers(b interface {
	AddHandler(handler interface{})
}) {
	b.AddHandler(h.HandleGetProductByID)
	b.AddHandler(h.HandleGetProducts)
	b.AddHandler(h.HandleGetProductsWithVariants)
	b.AddHandler(h.HandleGetShopProductByID)
	b.AddHandler(h.HandleGetShopProducts)
	b.AddHandler(h.HandleGetShopProductsWithVariants)
	b.AddHandler(h.HandleGetShopVariantByID)
	b.AddHandler(h.HandleGetShopVariants)
	b.AddHandler(h.HandleGetVariantByID)
	b.AddHandler(h.HandleGetVariants)
	b.AddHandler(h.HandleGetVariantsWithProduct)
}

func (h QueryServiceHandler) HandleGetProductByID(ctx context.Context, query *GetProductByIDQuery) error {
	result, err := h.inner.GetProductByID(ctx, query.GetArgs())
	query.Result = result
	return err
}

func (h QueryServiceHandler) HandleGetProducts(ctx context.Context, query *GetProductsQuery) error {
	result, err := h.inner.GetProducts(ctx, query.GetArgs())
	query.Result = result
	return err
}

func (h QueryServiceHandler) HandleGetProductsWithVariants(ctx context.Context, query *GetProductsWithVariantsQuery) error {
	result, err := h.inner.GetProductsWithVariants(ctx, query.GetArgs())
	query.Result = result
	return err
}

func (h QueryServiceHandler) HandleGetShopProductByID(ctx context.Context, query *GetShopProductByIDQuery) error {
	result, err := h.inner.GetShopProductByID(ctx, query.GetArgs())
	query.Result = result
	return err
}

func (h QueryServiceHandler) HandleGetShopProducts(ctx context.Context, query *GetShopProductsQuery) error {
	result, err := h.inner.GetShopProducts(ctx, query.GetArgs())
	query.Result = result
	return err
}

func (h QueryServiceHandler) HandleGetShopProductsWithVariants(ctx context.Context, query *GetShopProductsWithVariantsQuery) error {
	result, err := h.inner.GetShopProductsWithVariants(ctx, query.GetArgs())
	query.Result = result
	return err
}

func (h QueryServiceHandler) HandleGetShopVariantByID(ctx context.Context, query *GetShopVariantByIDQuery) error {
	result, err := h.inner.GetShopVariantByID(ctx, query.GetArgs())
	query.Result = result
	return err
}

func (h QueryServiceHandler) HandleGetShopVariants(ctx context.Context, query *GetShopVariantsQuery) error {
	result, err := h.inner.GetShopVariants(ctx, query.GetArgs())
	query.Result = result
	return err
}

func (h QueryServiceHandler) HandleGetVariantByID(ctx context.Context, query *GetVariantByIDQuery) error {
	result, err := h.inner.GetVariantByID(ctx, query.GetArgs())
	query.Result = result
	return err
}

func (h QueryServiceHandler) HandleGetVariants(ctx context.Context, query *GetVariantsQuery) error {
	result, err := h.inner.GetVariants(ctx, query.GetArgs())
	query.Result = result
	return err
}

func (h QueryServiceHandler) HandleGetVariantsWithProduct(ctx context.Context, query *GetVariantsWithProductQuery) error {
	result, err := h.inner.GetVariantsWithProduct(ctx, query.GetArgs())
	query.Result = result
	return err
}
