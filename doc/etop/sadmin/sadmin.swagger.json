{
  "swagger": "2.0",
  "info": {
    "title": "eTop API: SuperAdmin",
    "version": "v1"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/api/sadmin.Misc/VersionInfo": {
      "post": {
        "operationId": "VersionInfo",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/cmVersionInfoResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/cmEmpty"
            }
          }
        ],
        "tags": [
          "Misc"
        ]
      }
    },
    "/api/sadmin.User/CreateUser": {
      "post": {
        "operationId": "CreateUser",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/etopRegisterResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/sadminSAdminCreateUserRequest"
            }
          }
        ],
        "tags": [
          "User"
        ]
      }
    },
    "/api/sadmin.User/LoginAsAccount": {
      "post": {
        "operationId": "LoginAsAccount",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/etopLoginResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/sadminLoginAsAccountRequest"
            }
          }
        ],
        "tags": [
          "User"
        ]
      }
    },
    "/api/sadmin.User/ResetPassword": {
      "post": {
        "operationId": "ResetPassword",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/cmEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/sadminSAdminResetPasswordRequest"
            }
          }
        ],
        "tags": [
          "User"
        ]
      }
    }
  },
  "definitions": {
    "address_typeAddressType": {
      "type": "string",
      "enum": [
        "unknown",
        "general",
        "warehouse",
        "shipto",
        "shipfrom"
      ],
      "default": "unknown"
    },
    "cmEmpty": {
      "type": "object"
    },
    "cmVersionInfoResponse": {
      "type": "object",
      "properties": {
        "service": {
          "type": "string"
        },
        "version": {
          "type": "string"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "etopAccountType": {
      "type": "string",
      "enum": [
        "unknown",
        "partner",
        "shop",
        "supplier",
        "etop"
      ],
      "default": "unknown",
      "description": "Indicates whether given account is **etop**, **shop** or **supplier**."
    },
    "etopAddress": {
      "type": "object",
      "properties": {
        "exported_fields": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "id": {
          "type": "string",
          "format": "int64"
        },
        "province": {
          "type": "string"
        },
        "province_code": {
          "type": "string"
        },
        "district": {
          "type": "string"
        },
        "district_code": {
          "type": "string"
        },
        "ward": {
          "type": "string"
        },
        "ward_code": {
          "type": "string"
        },
        "address1": {
          "type": "string"
        },
        "address2": {
          "type": "string"
        },
        "zip": {
          "type": "string"
        },
        "country": {
          "type": "string"
        },
        "full_name": {
          "type": "string"
        },
        "first_name": {
          "type": "string"
        },
        "last_name": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "position": {
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/address_typeAddressType"
        },
        "notes": {
          "$ref": "#/definitions/etopAddressNote"
        },
        "coordinates": {
          "$ref": "#/definitions/etopCoordinates"
        }
      }
    },
    "etopAddressNote": {
      "type": "object",
      "properties": {
        "note": {
          "type": "string"
        },
        "open_time": {
          "type": "string"
        },
        "lunch_break": {
          "type": "string"
        },
        "other": {
          "type": "string"
        }
      }
    },
    "etopBankAccount": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "province": {
          "type": "string"
        },
        "branch": {
          "type": "string"
        },
        "account_number": {
          "type": "string"
        },
        "account_name": {
          "type": "string"
        }
      }
    },
    "etopCompanyInfo": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "tax_code": {
          "type": "string"
        },
        "address": {
          "type": "string"
        },
        "website": {
          "type": "string"
        },
        "legal_representative": {
          "$ref": "#/definitions/etopContactPerson"
        }
      }
    },
    "etopContactPerson": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "position": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "email": {
          "type": "string"
        }
      }
    },
    "etopCoordinates": {
      "type": "object",
      "properties": {
        "latitude": {
          "type": "number",
          "format": "float"
        },
        "longitude": {
          "type": "number",
          "format": "float"
        }
      }
    },
    "etopCreateUserRequest": {
      "type": "object",
      "properties": {
        "full_name": {
          "type": "string"
        },
        "short_name": {
          "type": "string",
          "description": "Can be automatically deduce from full_name."
        },
        "phone": {
          "type": "string"
        },
        "email": {
          "type": "string",
          "title": "It's not required if the user provides register_token"
        },
        "password": {
          "type": "string"
        },
        "agree_tos": {
          "type": "boolean",
          "format": "boolean"
        },
        "agree_email_info": {
          "type": "boolean",
          "format": "boolean"
        },
        "register_token": {
          "type": "string",
          "description": "This field must be set if the user uses generated password to register.\nAutomatically set phone_verified if it's sent within a specific time."
        },
        "source": {
          "$ref": "#/definitions/user_sourceUserSource"
        }
      },
      "required": [
        "full_name",
        "phone",
        "password",
        "agree_tos",
        "agree_email_info"
      ]
    },
    "etopLoginAccount": {
      "type": "object",
      "properties": {
        "exported_fields": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "id": {
          "type": "string",
          "format": "int64"
        },
        "name": {
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/etopAccountType"
        },
        "access_token": {
          "type": "string",
          "description": "Associated token for the account. It's returned when calling Login or\nSwitchAccount with regenerate_tokens set to true."
        },
        "expires_in": {
          "type": "integer",
          "format": "int32",
          "description": "The same as access_token."
        },
        "image_url": {
          "type": "string"
        },
        "url_slug": {
          "type": "string"
        },
        "user_account": {
          "$ref": "#/definitions/etopUserAccountInfo"
        }
      },
      "description": "Represents an account associated with the current user. It has extra fields to represents relation with the user.",
      "required": [
        "id",
        "name",
        "type"
      ]
    },
    "etopLoginResponse": {
      "type": "object",
      "properties": {
        "access_token": {
          "type": "string"
        },
        "expires_in": {
          "type": "integer",
          "format": "int32"
        },
        "user": {
          "$ref": "#/definitions/etopUser"
        },
        "account": {
          "$ref": "#/definitions/etopLoginAccount"
        },
        "shop": {
          "$ref": "#/definitions/etopShop"
        },
        "available_accounts": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/etopLoginAccount"
          }
        },
        "invitation_accounts": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/etopUserAccountInfo"
          }
        },
        "stoken": {
          "type": "boolean",
          "format": "boolean"
        },
        "stoken_expires_at": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "access_token",
        "expires_in",
        "user",
        "available_accounts"
      ]
    },
    "etopPermission": {
      "type": "object",
      "properties": {
        "roles": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "permissions": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "description": "Represents permission of the current user relation with an account."
    },
    "etopRegisterResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/etopUser"
        }
      },
      "required": [
        "user"
      ]
    },
    "etopShippingServiceSelectStrategyItem": {
      "type": "object",
      "properties": {
        "key": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "etopShop": {
      "type": "object",
      "properties": {
        "exported_fields": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "id": {
          "type": "string",
          "format": "int64"
        },
        "name": {
          "type": "string"
        },
        "status": {
          "$ref": "#/definitions/status3Status"
        },
        "is_test": {
          "type": "boolean",
          "format": "boolean"
        },
        "address": {
          "$ref": "#/definitions/etopAddress"
        },
        "phone": {
          "type": "string"
        },
        "bank_account": {
          "$ref": "#/definitions/etopBankAccount"
        },
        "auto_create_ffm": {
          "type": "boolean",
          "format": "boolean"
        },
        "website_url": {
          "type": "string"
        },
        "image_url": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "product_source_id": {
          "type": "string",
          "format": "int64"
        },
        "ship_to_address_id": {
          "type": "string",
          "format": "int64"
        },
        "ship_from_address_id": {
          "type": "string",
          "format": "int64"
        },
        "ghn_note_code": {
          "type": "string",
          "title": "@deprecated use try_on instead"
        },
        "try_on": {
          "$ref": "#/definitions/try_onTryOnCode"
        },
        "owner_id": {
          "type": "string",
          "format": "int64"
        },
        "user": {
          "$ref": "#/definitions/etopUser"
        },
        "company_info": {
          "$ref": "#/definitions/etopCompanyInfo"
        },
        "money_transaction_rrule": {
          "type": "string",
          "title": "referrence: https://icalendar.org/rrule-tool.html"
        },
        "survey_info": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/etopSurveyInfo"
          }
        },
        "shipping_service_select_strategy": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/etopShippingServiceSelectStrategyItem"
          }
        },
        "code": {
          "type": "string"
        }
      }
    },
    "etopSurveyInfo": {
      "type": "object",
      "properties": {
        "key": {
          "type": "string"
        },
        "question": {
          "type": "string"
        },
        "answer": {
          "type": "string"
        }
      }
    },
    "etopUser": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "int64"
        },
        "full_name": {
          "type": "string"
        },
        "short_name": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        },
        "email_verified_at": {
          "type": "string",
          "format": "date-time"
        },
        "phone_verified_at": {
          "type": "string",
          "format": "date-time"
        },
        "email_verification_sent_at": {
          "type": "string",
          "format": "date-time"
        },
        "phone_verification_sent_at": {
          "type": "string",
          "format": "date-time"
        },
        "source": {
          "$ref": "#/definitions/user_sourceUserSource"
        }
      },
      "description": "Represents a user in eTop system. The user may or may not have associated accounts.",
      "required": [
        "id",
        "full_name",
        "short_name",
        "phone",
        "email",
        "created_at",
        "updated_at"
      ]
    },
    "etopUserAccountInfo": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "int64"
        },
        "user_full_name": {
          "type": "string"
        },
        "user_short_name": {
          "type": "string"
        },
        "account_id": {
          "type": "string",
          "format": "int64"
        },
        "account_name": {
          "type": "string"
        },
        "account_type": {
          "$ref": "#/definitions/etopAccountType"
        },
        "position": {
          "type": "string"
        },
        "permission": {
          "$ref": "#/definitions/etopPermission"
        },
        "status": {
          "$ref": "#/definitions/status3Status"
        },
        "response_status": {
          "$ref": "#/definitions/status3Status"
        },
        "invitation_sent_by": {
          "type": "string",
          "format": "int64"
        },
        "invitation_sent_at": {
          "type": "string",
          "format": "date-time"
        },
        "invitation_accepted_at": {
          "type": "string",
          "format": "date-time"
        },
        "invitation_rejected_at": {
          "type": "string",
          "format": "date-time"
        },
        "disabled_at": {
          "type": "string",
          "format": "date-time"
        },
        "disabled_by": {
          "type": "string",
          "format": "int64"
        },
        "disable_reason": {
          "type": "string"
        }
      },
      "title": "Presents user information inside an account",
      "required": [
        "user_id",
        "user_full_name",
        "user_short_name",
        "account_id",
        "account_name",
        "account_type",
        "permission"
      ]
    },
    "sadminLoginAsAccountRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "int64"
        },
        "account_id": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "sadminSAdminCreateUserRequest": {
      "type": "object",
      "properties": {
        "info": {
          "$ref": "#/definitions/etopCreateUserRequest"
        },
        "is_etop_admin": {
          "type": "boolean",
          "format": "boolean"
        },
        "permission": {
          "$ref": "#/definitions/etopPermission"
        }
      }
    },
    "sadminSAdminResetPasswordRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "int64"
        },
        "password": {
          "type": "string"
        },
        "confirm": {
          "type": "string"
        }
      }
    },
    "status3Status": {
      "type": "string",
      "enum": [
        "Z",
        "P",
        "N"
      ],
      "default": "Z"
    },
    "try_onTryOnCode": {
      "type": "string",
      "enum": [
        "unknown",
        "none",
        "open",
        "try"
      ],
      "default": "unknown"
    },
    "user_sourceUserSource": {
      "type": "string",
      "enum": [
        "unknown",
        "psx",
        "etop",
        "topship",
        "ts_app_android",
        "ts_app_ios",
        "ts_app_web",
        "partner"
      ],
      "default": "unknown"
    }
  },
  "tags": [
    {
      "name": "Misc"
    },
    {
      "name": "User"
    }
  ]
}
